var routinesApp=angular.module("routinesApp",["firebase"]);routinesApp.constant("FirebaseUrl","https://planetf-clone.firebaseio.com/"),routinesApp.constant("rootNode","planetf-clone"),routinesApp.service("rootRef",["FirebaseUrl",Firebase]),routinesApp.service("fbConnection",["rootNode","rootRef","$firebaseArray","$firebaseObject","$firebaseAuth",function(e,r,i,t,s){var n=r;this.getExercises=function(){return t(n.child("exercises"))},this.getExerciseCategories=function(){return t(n.child("exercise_categories"))}}]),routinesApp.service("routinesHelper",[function(){function e(e){if(e.cardio)for(var r in e)if(r.indexOf("$")<0&&r.indexOf("_proto_")<0&&!exerciserNameList[r]&&(exerciserNameList[r]={}),r.indexOf("$")<0&&r.indexOf("_proto_")<0&&"object"==typeof e[r])for(var i in e[r])if("object"==typeof e[r][i])for(var t in e[r][i])exerciserNameList[r][e[r][i][t].name]=[r,i,t]}function r(e,r,i){var t=exerciserNameList[r],s=e[t[0]][t[1]][t[2]].attributes.groups,n=!1;for(var o in s)if(o.indexOf("group")>=0)for(var a in s[o])if(s[o][a]==i)return n=!0;return n}exerciserNameList={};var i={reps:"Reps",duration:"Duration",distance:"Distance",calories:"Calories",wtd:"Lbs",bw:"Body Weight"};this.getExerciserNameList=function(r,i){return"{}"==JSON.stringify(exerciserNameList)&&e(i),exerciserNameList[r]},this.getSetType=function(e,r,t){if("undefined"!=typeof r&&"undefined"!=typeof t){console.log("exerciseName: "+t);var s=exerciserNameList[r.toLowerCase()][t];console.log("arr: "+s.toString());var n=e[s[0]][s[1]][s[2]].attributes.groups,o={},a=0;for(var c in n)c.indexOf("group")>=0&&(o[a].name=i[n[c].attr0]+" & "+i[n[c].attr1],o[a].attributes=n[c],a++);return o}},this.isDurationAvailable=function(e,i){return r(e,i,"duration")},this.isDistanceAvailable=function(e,i){return r(e,i,"distance")}}]),routinesApp.controller("createNewRoutine",["$scope","fbConnection","routinesHelper",function(e,r,i){var t={exerciseType:r.getExercises(),exerciseCategories:r.getExerciseCategories()};e.getExerciserNameList=i.getExerciserNameList,e.getSetType=i.getSetType,e.fbExerciseData=t}]);